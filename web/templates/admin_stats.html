{{ define "admin_stats-content" }}
<div class="admin-page">
    <!-- Page Header -->
    <header class="page-header admin-header">
        <div class="container">
            <h1 class="page-title">
                <svg width="24" height="24" fill="currentColor" viewBox="0 0 16 16">
                    <path d="M4 11H2v3h2v-3zm5-4H7v7h2V7zm5-5v12h-2V2h2zm-2-1a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1h-2zM6 7a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v7a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V7zM4 11a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-3z"/>
                </svg>
                Site Statistics
            </h1>
            <p class="page-description">Comprehensive analytics and performance metrics</p>
        </div>
    </header>

    <!-- Stats Content -->
    <div class="page-content">
        <div class="container">
            <div class="admin-grid">
                
                <!-- Article Statistics -->
                <div class="admin-card">
                    <div class="card-header">
                        <h2 class="card-title">
                            <svg width="20" height="20" fill="currentColor" viewBox="0 0 16 16">
                                <path d="M1 2.828c.885-.37 2.154-.769 3.388-.893 1.33-.134 2.458.063 3.112.752v9.746c-.935-.53-2.12-.603-3.213-.493-1.18.12-2.37.461-3.287.811V2.828zm7.5-.141c.654-.689 1.782-.886 3.112-.752 1.234.124 2.503.523 3.388.893v9.923c-.918-.35-2.107-.692-3.287-.81-1.094-.111-2.278-.039-3.213.492V2.687zM8 1.783C7.015.936 5.587.81 4.287.94c-1.514.153-3.042.672-3.994 1.105A.5.5 0 0 0 0 2.5v11a.5.5 0 0 0 .707.455c.882-.4 2.303-.881 3.68-1.02 1.409-.142 2.59.087 3.223.877a.5.5 0 0 0 .78 0c.633-.79 1.814-1.019 3.222-.877 1.378.139 2.8.62 3.681 1.02A.5.5 0 0 0 16 13.5v-11a.5.5 0 0 0-.293-.455c-.952-.433-2.48-.952-3.994-1.105C10.413.809 8.985.936 8 1.783z"/>
                            </svg>
                            Articles
                        </h2>
                    </div>
                    <div class="card-content">
                        <div class="stats-grid">
                            <div class="stat-item primary">
                                <div class="stat-icon">
                                    <svg width="24" height="24" fill="currentColor" viewBox="0 0 16 16">
                                        <path d="M5.5 7a.5.5 0 0 0 0 1h5a.5.5 0 0 0 0-1h-5zM5 9.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5zm0 2a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 0 1h-2a.5.5 0 0 1-.5-.5z"/>
                                        <path d="M9.5 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V4.5L9.5 0zm0 1v2A1.5 1.5 0 0 0 11 4.5h2V14a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h5.5z"/>
                                    </svg>
                                </div>
                                <div class="stat-content">
                                    <div class="stat-number">{{ .articles.total_articles }}</div>
                                    <div class="stat-label">Total Articles</div>
                                </div>
                            </div>
                            <div class="stat-item success">
                                <div class="stat-icon">
                                    <svg width="24" height="24" fill="currentColor" viewBox="0 0 16 16">
                                        <path d="M10.97 4.97a.75.75 0 0 1 1.07 1.05l-3.99 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.267.267 0 0 1 .02-.022z"/>
                                    </svg>
                                </div>
                                <div class="stat-content">
                                    <div class="stat-number">{{ .articles.published_count }}</div>
                                    <div class="stat-label">Published</div>
                                </div>
                            </div>
                            <div class="stat-item warning">
                                <div class="stat-icon">
                                    <svg width="24" height="24" fill="currentColor" viewBox="0 0 16 16">
                                        <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
                                        <path d="M7.002 11a1 1 0 1 1 2 0 1 1 0 0 1-2 0zM7.1 4.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 4.995z"/>
                                    </svg>
                                </div>
                                <div class="stat-content">
                                    <div class="stat-number">{{ .articles.draft_count }}</div>
                                    <div class="stat-label">Drafts</div>
                                </div>
                            </div>
                            <div class="stat-item info">
                                <div class="stat-icon">
                                    <svg width="24" height="24" fill="currentColor" viewBox="0 0 16 16">
                                        <path d="M3 2v4.586l7 7L14.586 9l-7-7H3zM2 2a1 1 0 0 1 1-1h4.586a1 1 0 0 1 .707.293l7 7a1 1 0 0 1 0 1.414l-4.586 4.586a1 1 0 0 1-1.414 0l-7-7A1 1 0 0 1 2 6.586V2z"/>
                                        <path d="M5.5 5a.5.5 0 1 1 0-1 .5.5 0 0 1 0 1zm0 1a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM1 7.086a1 1 0 0 0 .293.707L8.75 15.25l-.043.043a1 1 0 0 1-1.414 0l-7-7A1 1 0 0 1 0 7.586V3a1 1 0 0 1 1-1v5.086z"/>
                                    </svg>
                                </div>
                                <div class="stat-content">
                                    <div class="stat-number">{{ .articles.total_tags }}</div>
                                    <div class="stat-label">Tags</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Popular Tags -->
                {{ if .articles.popular_tags }}
                <div class="admin-card">
                    <div class="card-header">
                        <h2 class="card-title">
                            <svg width="20" height="20" fill="currentColor" viewBox="0 0 16 16">
                                <path d="M3 2v4.586l7 7L14.586 9l-7-7H3zM2 2a1 1 0 0 1 1-1h4.586a1 1 0 0 1 .707.293l7 7a1 1 0 0 1 0 1.414l-4.586 4.586a1 1 0 0 1-1.414 0l-7-7A1 1 0 0 1 2 6.586V2z"/>
                            </svg>
                            Popular Tags
                        </h2>
                    </div>
                    <div class="card-content">
                        <div class="tag-list">
                            {{ range .articles.popular_tags }}
                            <div class="tag-item">
                                <span class="tag-name">{{ .tag }}</span>
                                <span class="tag-count">{{ .count }}</span>
                            </div>
                            {{ end }}
                        </div>
                    </div>
                </div>
                {{ end }}

                <!-- Memory Statistics -->
                <div class="admin-card">
                    <div class="card-header">
                        <h2 class="card-title">
                            <svg width="20" height="20" fill="currentColor" viewBox="0 0 16 16">
                                <path d="M1 3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v5a1 1 0 0 1-1 1v-1a1 1 0 0 0-1-1H3a1 1 0 0 0-1 1v1a1 1 0 0 1-1-1V3zm14 7a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1v-2a1 1 0 0 1 1-1h12z"/>
                            </svg>
                            Memory Usage
                        </h2>
                    </div>
                    <div class="card-content">
                        <div class="info-grid">
                            <div class="info-item">
                                <span class="info-label">Allocated</span>
                                <span class="info-value memory-value">{{ .memory.alloc_mb }} MB</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">System</span>
                                <span class="info-value memory-value">{{ .memory.sys_mb }} MB</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">GC Cycles</span>
                                <span class="info-value">{{ .memory.num_gc }}</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Goroutines</span>
                                <span class="info-value">{{ .memory.num_goroutines }}</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Recent Articles -->
                {{ if .articles.recent_articles }}
                <div class="admin-card">
                    <div class="card-header">
                        <h2 class="card-title">
                            <svg width="20" height="20" fill="currentColor" viewBox="0 0 16 16">
                                <path d="M8 3.5a.5.5 0 0 0-1 0V9a.5.5 0 0 0 .252.434l3.5 2a.5.5 0 0 0 .496-.868L8 8.71V3.5z"/>
                                <path d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm7-8A7 7 0 1 1 1 8a7 7 0 0 1 14 0z"/>
                            </svg>
                            Recent Articles
                        </h2>
                    </div>
                    <div class="card-content">
                        <div class="articles-list">
                            {{ range .articles.recent_articles }}
                            <div class="article-item">
                                <div class="article-info">
                                    <h3 class="article-title">
                                        <a href="/articles/{{ .slug }}">{{ .title }}</a>
                                    </h3>
                                    <div class="article-meta">
                                        <span class="article-date">{{ .date.Format "Jan 2, 2006" }}</span>
                                        <span class="article-reading-time">{{ .reading_time }} min read</span>
                                        {{ if .tags }}
                                        <div class="article-tags">
                                            {{ range $i, $tag := .tags }}
                                                {{ if lt $i 3 }}
                                                    <span class="tag">{{ $tag }}</span>
                                                {{ end }}
                                            {{ end }}
                                            {{ if gt (len .tags) 3 }}
                                                <span class="tag-more">+{{ sub (len .tags) 3 }} more</span>
                                            {{ end }}
                                        </div>
                                        {{ end }}
                                    </div>
                                </div>
                                <div class="article-actions">
                                    <a href="/articles/{{ .slug }}" class="btn btn-sm btn-secondary">View</a>
                                </div>
                            </div>
                            {{ end }}
                        </div>
                    </div>
                </div>
                {{ end }}
            </div>

            <!-- Actions -->
            <div class="admin-actions">
                <div class="actions-group">
                    <a href="/admin/debug" class="btn btn-secondary">
                        <svg width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                            <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
                            <path d="M7.002 11a1 1 0 1 1 2 0 1 1 0 0 1-2 0zM7.1 4.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 4.995z"/>
                        </svg>
                        Debug Info
                    </a>
                    <a href="/admin/metrics" class="btn btn-secondary">
                        <svg width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                            <path d="M8 4.754a3.246 3.246 0 1 0 0 6.492 3.246 3.246 0 0 0 0-6.492zM5.754 8a2.246 2.246 0 1 1 4.492 0 2.246 2.246 0 0 1-4.492 0z"/>
                        </svg>
                        Metrics
                    </a>
                    <a href="/admin/reload" class="btn btn-warning">
                        <svg width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                            <path fill-rule="evenodd" d="M8 3a5 5 0 1 0 4.546 2.914.5.5 0 0 1 .908-.417A6 6 0 1 1 8 2v1z"/>
                            <path d="M8 4.466V.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384L8.41 4.658A.25.25 0 0 1 8 4.466z"/>
                        </svg>
                        Reload Articles
                    </a>
                    <a href="/" class="btn btn-primary">
                        <svg width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                            <path d="M8.354 1.146a.5.5 0 0 0-.708 0l-6 6A.5.5 0 0 0 1.5 7.5v7a.5.5 0 0 0 .5.5h4.5a.5.5 0 0 0 .5-.5v-4h2v4a.5.5 0 0 0 .5.5H14a.5.5 0 0 0 .5-.5v-7a.5.5 0 0 0-.146-.354L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293L8.354 1.146zM2.5 14V7.707l5.5-5.5 5.5 5.5V14H10v-4a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5v4H2.5z"/>
                        </svg>
                        Back to Site
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>

<script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "WebPage",
    "name": "Site Statistics - Admin Panel",
    "description": "Comprehensive analytics and performance metrics for {{ .config.Blog.Title }}",
    "url": "{{ .config.BaseURL }}/admin/stats",
    "isPartOf": {
        "@type": "WebSite",
        "name": "{{ .config.Blog.Title }}",
        "url": "{{ .config.BaseURL }}"
    }
}
</script>
{{ end }}

{{ define "admin_stats-head" }}
<meta name="description" content="Comprehensive analytics and performance metrics for {{ .config.Blog.Title }}" />
<meta name="robots" content="noindex, nofollow" />
{{ end }}

{{ define "scripts" }}
<script>
// Chart visualization (if needed)
document.addEventListener('DOMContentLoaded', () => {
    // Add any chart rendering logic here
    console.log('Admin stats page loaded');
    
    // Auto-refresh stats every 60 seconds
    setInterval(() => {
        // Could implement AJAX refresh here
        console.log('Stats auto-refresh (TODO: implement AJAX)');
    }, 60000);
});
</script>
{{ end }}

{{ define "body-class" }}admin-page stats-page{{ end }}