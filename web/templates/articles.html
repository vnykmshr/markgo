{{ define "articles-content" }}
<div class="articles-page">
    <div class="container">
        <!-- Page Header -->
        <header class="page-header">
            <h1 class="page-title">Writing</h1>
            <p class="page-subtitle">{{ .pagination.TotalItems }} published</p>
        </header>

        <!-- Content Stream -->
        {{ if .articles }}
        <section class="content-stream" aria-label="Published writing">
            {{ range .articles }}
                {{ template "card-by-type" . }}
            {{ end }}
        </section>

        <!-- Pagination -->
        {{ if or .pagination.HasPrevious .pagination.HasNext }}
        <nav class="simple-pagination" aria-label="Articles pagination">
            {{ if .pagination.HasPrevious }}
            <a href="/writing?page={{ .pagination.PreviousPage }}" class="simple-pagination-link">← Newer</a>
            {{ end }}
            <span class="pagination-info">Page {{ .pagination.CurrentPage }} of {{ .pagination.TotalPages }}</span>
            {{ if .pagination.HasNext }}
            <a href="/writing?page={{ .pagination.NextPage }}" class="simple-pagination-link">Older →</a>
            {{ end }}
        </nav>
        {{ end }}

        {{ else }}
        <div class="empty-state">
            <h2>No articles yet</h2>
            <p>Long-form articles will appear here once published.</p>
            {{ if .authenticated }}
            <a href="/compose" class="empty-state-cta">Write your first article</a>
            {{ end }}
        </div>
        {{ end }}
    </div>
</div>

{{ if .articles }}
<!-- Structured Data -->
<script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "CollectionPage",
    "name": "Writing",
    "description": "Writing from {{ .config.Blog.Title }}",
    "url": "{{ .config.BaseURL }}/writing",
    "mainEntity": {
        "@type": "ItemList",
        "numberOfItems": {{ .pagination.TotalItems }},
        "itemListElement": [
            {{ range $index, $article := .articles }}
            {{ if $index }},{{ end }}
            {
                "@type": "BlogPosting",
                "position": {{ add $index 1 }},
                "headline": "{{ displayTitle $article }}",
                "description": "{{ $article.Excerpt }}",
                "url": "{{ $.config.BaseURL }}/writing/{{ $article.Slug }}",
                "datePublished": "{{ $article.Date.Format "2006-01-02T15:04:05Z07:00" }}",
                "author": {
                    "@type": "Person",
                    "name": "{{ $.config.Blog.Author }}"
                },
                "keywords": "{{ join ", " $article.Tags }}"
            }
            {{ end }}
        ]
    }
}
</script>
{{ end }}
{{ end }}

{{ define "articles-head" }}
<meta name="description" content="Writing from {{ .config.Blog.Title }}.">
<meta name="keywords" content="blog, writing, {{ .config.Blog.Author }}">

<!-- Pagination meta tags -->
{{ if .pagination.HasPrevious }}
<link rel="prev" href="{{ .config.BaseURL }}/writing?page={{ .pagination.PreviousPage }}">
{{ end }}
{{ if .pagination.HasNext }}
<link rel="next" href="{{ .config.BaseURL }}/writing?page={{ .pagination.NextPage }}">
{{ end }}

{{ end }}
