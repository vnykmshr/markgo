{{ define "articles-content" }}
<div class="articles-page">
    <div class="container">
        <!-- Page Header -->
        <header class="page-header">
            <h1 class="page-title">Writing</h1>
            <p class="page-subtitle">{{ .pagination.TotalItems }} posts</p>
        </header>

        <!-- Articles Stream -->
        {{ if .articles }}
        <div class="card-stream">
            {{ range .articles }}
                {{ if eq .Type "thought" }}
                    {{ template "card-thought" . }}
                {{ else if eq .Type "link" }}
                    {{ template "card-link" . }}
                {{ else }}
                    {{ template "card-article" . }}
                {{ end }}
            {{ end }}
        </div>

        <!-- Pagination -->
        {{ if or .pagination.HasPrevious .pagination.HasNext }}
        <nav class="simple-pagination" aria-label="Articles pagination">
            {{ if .pagination.HasPrevious }}
            <a href="/articles?page={{ .pagination.PreviousPage }}" class="simple-pagination-link">← Newer</a>
            {{ end }}
            <span class="pagination-info">Page {{ .pagination.CurrentPage }} of {{ .pagination.TotalPages }}</span>
            {{ if .pagination.HasNext }}
            <a href="/articles?page={{ .pagination.NextPage }}" class="simple-pagination-link">Older →</a>
            {{ end }}
        </nav>
        {{ end }}

        {{ else }}
        <div class="articles-empty">
            <h3>No posts yet</h3>
            <p>Nothing here yet.</p>
        </div>
        {{ end }}
    </div>
</div>

<!-- Structured Data -->
<script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "CollectionPage",
    "name": "Writing",
    "description": "All posts on {{ .config.Blog.Title }}",
    "url": "{{ .config.BaseURL }}/articles",
    "mainEntity": {
        "@type": "ItemList",
        "numberOfItems": {{ .pagination.TotalItems }},
        "itemListElement": [
            {{ range $index, $article := .articles }}
            {{ if $index }},{{ end }}
            {
                "@type": "BlogPosting",
                "position": {{ add $index 1 }},
                "headline": "{{ displayTitle $article }}",
                "description": "{{ $article.Excerpt }}",
                "url": "{{ $.config.BaseURL }}/articles/{{ $article.Slug }}",
                "datePublished": "{{ $article.Date.Format "2006-01-02T15:04:05Z07:00" }}",
                "author": {
                    "@type": "Person",
                    "name": "{{ $.config.Blog.Author }}"
                },
                "keywords": "{{ join ", " $article.Tags }}"
            }
            {{ end }}
        ]
    }
}
</script>
{{ end }}

{{ define "articles-head" }}
<meta name="description" content="All posts on {{ .config.Blog.Title }}.">
<meta name="keywords" content="blog, posts, technology, programming, {{ .config.Blog.Author }}">

<!-- Pagination meta tags -->
{{ if .pagination.HasPrevious }}
<link rel="prev" href="{{ .config.BaseURL }}/articles?page={{ .pagination.PreviousPage }}">
{{ end }}
{{ if .pagination.HasNext }}
<link rel="next" href="{{ .config.BaseURL }}/articles?page={{ .pagination.NextPage }}">
{{ end }}

{{ end }}
